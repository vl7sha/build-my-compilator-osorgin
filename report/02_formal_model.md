## 2 Формальная модель задачи

### 2.1 Алфавит и лексемы

Входной алфавит — символы ASCII. Лексический анализ выделяет токены, определённые в `BNLang.g4`, в том числе:
- ключевые слова: `begin`, `end`, `if`, `then`, `else`, `for`, `to`, `do`, `while`, `read`, `write`;
- логические константы: `true`, `false`;
- операции отношений: `NE/EQ/LT/LE/GT/GE` (допускается верхний/нижний регистр, например `NE` или `ne`);
- операции сложения: `plus`, `min`, `or`;
- операции умножения: `mult`, `div`, `and`;
- операция присваивания: `ass`;
- унарная операция: `~`;
- разделители: `(` `)` `,` `;` `:` `.`;
- типы данных: `%` `!` `$`;
- идентификаторы: `IDENT = LETTER (LETTER | DIGIT)*`;
- числа: двоичные (`...B/b`), восьмеричные (`...O/o`), десятичные (`...` и `...D/d`), шестнадцатеричные (`...H/h`), действительные (`REAL`).

Комментарии вида `{ ... }` игнорируются лексером. Пробельные символы (пробел/табуляция) также игнорируются, а перевод строки (`NEWLINE`) является значимым токеном.

### 2.2 Синтаксическая структура (КС‑грамматика)

Синтаксис языка задан правилами парсера в `BNLang.g4`. Стартовый символ — `program`:
- программа начинается с `begin` и заканчивается `end`;
- на верхнем уровне допускаются элементы двух видов: описание переменных (`description`) и оператор (`statement`);
- элементами управляют разделители `;` и перевод строки.

Описания переменных имеют вид:

`<idList> ':' <type>`

где `<idList>` — список идентификаторов через запятую, а `<type>` — один из `%`, `!`, `$`.

Операторы включают:
- присваивание: `IDENT ass <expr>`;
- условный: `if <expr> then <statement> [else <statement>]`;
- цикл for: `for <assignment> to <expr> do <statement>`;
- цикл while: `while <expr> do <statement>`;
- ввод: `read ( IDENT {, IDENT} )`;
- вывод: `write ( <expr> {, <expr>} )`.

Составной оператор реализован как последовательность `simpleStmt`, разделённых `:`/переводом строки (и в грамматике также разрешён `;` как практическое расширение под примеры).

### 2.3 Приоритеты операций в выражениях

Выражения задаются уровнями:
- `expr`: цепочка `operand` с операциями отношений;
- `operand`: цепочка `term` с операциями сложения (`plus/min/or`);
- `term`: цепочка `factor` с операциями умножения (`mult/div/and`);
- `factor`: идентификатор/число/логическая константа/унарная операция `~ factor`/скобки.

Таким образом, операции умножения имеют более высокий приоритет, чем операции сложения, а те — выше операций отношений.

