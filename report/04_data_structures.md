## 4 Структурная организация данных

Так как на этапе **«только ошибки»** ключевая задача — корректно сообщать о проблемах во входной программе, основными структурами данных являются:

### 4.1 Дерево разбора (Parse Tree)

ANTLR‑парсер строит дерево разбора согласно правилам `BNLang.g4`. Дерево используется:
- для навигации по конструкции программы (при расширении до семантики);
- для привязки диагностик к конкретным фрагментам.

### 4.2 Токены и позиции

Каждый токен содержит позиционную информацию:
- номер строки,
- номер столбца,
- текст лексемы.

Эти данные используются в сообщениях об ошибках.

### 4.3 Диагностики (Diagnostics)

Диагностика — запись, содержащая:
- позицию (`line`, `column`);
- категорию (лексическая/синтаксическая/семантическая);
- текст сообщения.

На текущем этапе достаточно лексико‑синтаксических диагностик, которые формируются стандартным механизмом ANTLR (error listeners).

